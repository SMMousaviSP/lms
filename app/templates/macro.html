{% macro flash(message, category='primary') -%}
<div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
{%- endmacro %}


{% macro table(li, button=true, button_text='Edit', button_url="", button_color='primary', button_head='Action') %}
    <table id="table_id" class="display">
        <thead>
            <tr>
                {% for key, value in li[0].items() %}
                    {% if button and (key == 'ID' or key == 'Id' or key == 'id') %}
                        <th style="text-align: center;">
                            {{ button_head }}
                        </th>
                    {% else %}
                        <th>{{ key }}</th>
                    {% endif %}
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for dict in li %}
                <tr>
                {% for key, value in dict.items() %}
                    {% if button and (key == 'ID' or key == 'Id' or key == 'id') %}
                        <td style="text-align: center;">
                            <a href="{{ url_for(button_url, ID=value) }}" class="btn btn-{{ button_color }}" role="button">{{ button_text }}</a>
                        </td>
                    {% else %}
                        <td>{{ value }}</td>
                    {% endif %}
                {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endmacro %}

{% macro input(name, label, placeholder="", required=false, type="text", value="") %}
    {% set unique_id = "id" + range(0, 1000000) | random | string %}
    <div class="form-group">
        <label for="{{ unique_id }}">{{label}}</label>
        {% if required %}
            <input name="{{ name }}" type="{{ type }}" class="form-control" id="{{ unique_id }}" placeholder="{{placeholder}}" value="{{ value }}" required>
        {% else %}
            <input name="{{ name }}" type="{{ type }}" class="form-control" id="{{ unique_id }}" placeholder="{{placeholder}}" value="{{ value }}">
        {% endif %}
    </div>
{% endmacro %}